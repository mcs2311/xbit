//-------------------------------------------------------------------------------------
package codex.xbit.api.server.trader.common.events.single;
//-------------------------------------------------------------------------------------
import java.time.*;
import java.time.format.*;
import java.math.*;

//import org.knowm.xchange.currency.CurrencyPair;
import org.knowm.xchange.dto.marketdata.*;

import codex.common.utils.*;
import codex.xbit.api.server.trader.common.events.*;
import codex.xbit.api.server.trader.common.objects.*;

//-------------------------------------------------------------------------------------
public class TickerEvent extends BeanEvent {
	protected Ticker ticker;

//-------------------------------------------------------------------------------------
//-------------------------------------------------------------------------------------
//-------------------------------------------------------------------------------------
//-------------------------------------------------------------------------------------
    public TickerEvent(Ticker _ticker) {
    	super(KIND_TICKER);
    	ticker = _ticker;
    }

//-------------------------------------------------------------------------------------
//-------------------------------------------------------------------------------------
//-------------------------------------------------------------------------------------
//-------------------------------------------------------------------------------------
    public ZonedDateTime getTime() {
        return ticker.getTimestamp().toInstant().atZone(ZONE_ID);
    }

//-------------------------------------------------------------------------------------
    public long getTimestamp() {
        return ticker.getTimestamp().getTime();
    }

//-------------------------------------------------------------------------------------
    public BigDecimal getBidPrice() {
        return ticker.getBid();
    }

//-------------------------------------------------------------------------------------
    public BigDecimal getAskPrice() {
        return ticker.getAsk();
    }
    
//-------------------------------------------------------------------------------------
    public BigDecimal getBidAmount() {
        return ticker.getBidSize();
    }

//-------------------------------------------------------------------------------------
    public BigDecimal getAskAmount() {
        return ticker.getAskSize();
    }
    

//-------------------------------------------------------------------------------------
//-------------------------------------------------------------------------------------
//-------------------------------------------------------------------------------------
//-------------------------------------------------------------------------------------
//-------------------------------------------------------------------------------------
    public String toString(){
        return "[ticker]: bidPrice=" +getBidPrice() + ", bidAmount=" + getBidAmount() + ", time=" + getTime().format(formatter0) + super.toString();// + ",@" + hashCode();
    }

//-------------------------------------------------------------------------------------
//-------------------------------------------------------------------------------------
}
//-------------------------------------------------------------------------------------
