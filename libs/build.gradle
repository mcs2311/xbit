/*
 * This file was generated by the Gradle 'init' task.
 */

plugins {
    id 'java'
    id 'maven-publish'
    id "com.github.johnrengelman.shadow" version "5.2.0"
}

repositories {
    mavenLocal()
    maven {
        url = 'https://oss.sonatype.org/content/groups/public/'
    }

    maven {
        url = 'https://repo.maven.apache.org/maven2'
    }

    flatDir {
        dirs '/Users/marius/.xbit/libs/'
    }
}

dependencies {
	implementation 'org.twitter4j:twitter4j-core:4.0.7'
	implementation 'org.twitter4j:twitter4j-stream:4.0.7'
	implementation 'org.twitter4j:twitter4j-async:4.0.7'
    implementation 'org.ta4j:ta4j-core:0.13'
    implementation 'org.knowm.xchange:xchange-core:5.0.2-SNAPSHOT'
    implementation 'org.knowm.xchange:xchange-binance:5.0.2-SNAPSHOT'
    implementation 'org.knowm.xchange:xchange-bitmex:5.0.2-SNAPSHOT'
    implementation 'org.knowm.xchange:xchange-hitbtc:5.0.2-SNAPSHOT'
    implementation 'org.knowm.xchange:xchange-stream-binance:5.0.2-SNAPSHOT'
    implementation 'org.knowm.xchange:xchange-stream-bitmex:5.0.2-SNAPSHOT'
    implementation 'org.knowm.xchange:xchange-stream-hitbtc:5.0.2-SNAPSHOT'
//    testImplementation 'ch.qos.logback:logback-classic:1.2.3'
}

group = 'codex'
version = '0.1.0'
sourceCompatibility = '14'

publishing {
    publications {
        maven(MavenPublication) {
            from(components.java)
        }
    }
}

tasks.withType(JavaCompile) {
    options.encoding = 'UTF-8'
}

task copyJarToLibs(type: Copy) {
    from shadowJar
    into "/Users/marius/.xbit/libs/"
}


shadowJar {
    archiveName = "$baseName-$version.$extension"
}

build.dependsOn copyJarToLibs

//project.gradle.startParameter.excludedTaskNames.add('processResources')
project.gradle.startParameter.excludedTaskNames.add('javadoc')
project.gradle.startParameter.excludedTaskNames.add('compileTestJava')
project.gradle.startParameter.excludedTaskNames.add('processTestResources')
project.gradle.startParameter.excludedTaskNames.add('testClasses')
project.gradle.startParameter.excludedTaskNames.add('test')
project.gradle.startParameter.excludedTaskNames.add('check')
